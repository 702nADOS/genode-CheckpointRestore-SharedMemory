build { core init test/core_service }

create_boot_directory

install_config {
<config>
  <parent-provides>
    <service name="LOG"/>
    <service name="CR"/>
  </parent-provides>
  <default-route>
    <any-service> <parent/> <any-child/> </any-service>
  </default-route>
  <start name="hello_core_client">
    <resource name="RAM" quantum="1M"/>
  </start>
</config>}

build_boot_image { core init hello_core_client }

append qemu_args " -nographic "

run_genode_until "hello core test completed.*\n" 10
